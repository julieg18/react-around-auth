{"version":3,"sources":["images/avatar-image.jpg","images/check-symbol.svg","images/x-symbol.svg","components/Header.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Popup.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarProfilePopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/InfoTooltip.js","utils/api.js","utils/auth.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","isUserLoggedIn","email","onSignOut","useState","areNavItemsOpen","setAreNavItemsOpen","location","useLocation","className","escape","onClick","e","to","pathname","ProtectedRoute","Component","component","props","Login","onLogin","password","setPassword","setEmail","isEmailValid","setIsEmailValid","isPasswordValid","setIsPasswordValid","emailValidationMessage","setEmailValidationMessage","passwordValidationMessage","setPasswordValidationMessage","isFormValid","setIsFormValid","isLoading","setIsLoading","onSubmit","preventDefault","catch","htmlFor","onChange","input","target","isValid","validity","valid","value","validationMessage","placeholder","type","id","required","disabled","Register","onRegister","message","minLength","maxLength","pattern","CurrentUserContext","React","createContext","Card","onCardDelete","onCardLike","onCardClick","card","userId","useContext","_id","link","name","likes","belongsToUser","owner","isLiked","some","user","alt","src","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","onDeleteCard","avatar","about","avatarImage","map","key","Footer","Popup","onClose","isOpen","children","content","classList","contains","ImagePopup","PopupWithForm","title","submitBtnText","EditProfilePopup","onUpdateUser","setName","description","setDescription","nameValidationMessage","setNameValidationMessage","descriptionValidationMessage","setDescriptionValidationMessage","isNameValid","setIsNameValid","isDescriptionValid","setIsDescriptionValid","CurrentUser","useEffect","currentUserName","then","defaultValue","EditAvatarProfilePopup","onUpdateAvatar","avatarInput","useRef","isAvatarValid","setIsAvatarValid","avatarValidationMessage","setAvatarValidationMessage","current","ref","AddPlacePopup","onCreatePlace","setLink","isLinkValid","setIsLinkValid","linkValidationMessage","setLinkValidationMessage","DeleteCardPopup","InfoTooltip","imgSrc","imgAlt","successImage","errorImage","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","_checkServerResponse","newUserInfo","method","body","JSON","stringify","newCardInfo","cardId","cardWasLiked","authorization","auth","userInfo","Authorization","localStorage","getItem","App","func","history","useHistory","setIsUserLoggedIn","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","isSuccessTooltipOpen","setIsSuccessTooltipOpen","isErrorTooltipOpen","setIsErrorTooltipOpen","selectedCard","setSelectedCard","currentUser","setCurrentUser","setCards","checkUserValidity","data","push","err","console","log","handleEscPopupClose","closeAllPopups","setEscPopupCloseEventListener","window","addEventListener","openErrorTooltip","removeEventListener","getUser","getInitialCards","initialCards","Provider","removeItem","path","exact","c","editCardLikes","newCard","newCards","registerUser","resolve","loginUser","token","setItem","editUserInfo","editUserAvatar","place","addCard","deleteCard","filter","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.4e3679de.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar-image.256a3224.jpg\";","module.exports = __webpack_public_path__ + \"static/media/check-symbol.7fc4c149.svg\";","module.exports = __webpack_public_path__ + \"static/media/x-symbol.c32299fa.svg\";","import React, { useState } from 'react';\r\nimport escape from 'escape-html';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nfunction Header({ isUserLoggedIn, email, onSignOut }) {\r\n  const [areNavItemsOpen, setAreNavItemsOpen] = useState(false);\r\n  const location = useLocation();\r\n\r\n  function handleMenuBtnClick(e) {\r\n    setAreNavItemsOpen(!areNavItemsOpen);\r\n  }\r\n\r\n  return (\r\n    <header\r\n      className={`header ${\r\n        areNavItemsOpen && isUserLoggedIn && 'header__nav-items-opened'\r\n      }`}\r\n    >\r\n      <div className=\"logo logo_place_header\"></div>\r\n      {isUserLoggedIn ? (\r\n        <>\r\n          <ul\r\n            className={`header__nav-items ${\r\n              areNavItemsOpen && 'header__nav-items_opened'\r\n            }`}\r\n          >\r\n            <li className=\"header__nav-item\">\r\n              <p className=\"header__user-email\">{escape(email)}</p>\r\n            </li>\r\n            <li className=\"header__nav-item\">\r\n              <button\r\n                onClick={onSignOut}\r\n                className=\"header__logout-btn hover-animation\"\r\n              >\r\n                Log out\r\n              </button>\r\n            </li>\r\n          </ul>\r\n          <button\r\n            onClick={handleMenuBtnClick}\r\n            className={`hover-animation header__nav-items-btn header__nav-items-btn_image_${\r\n              areNavItemsOpen ? 'exit' : 'menu'\r\n            }`}\r\n          ></button>\r\n        </>\r\n      ) : (\r\n        <Link\r\n          className=\"header__link hover-animation\"\r\n          to={location.pathname === '/signin' ? '/signup' : '/signin'}\r\n        >\r\n          {location.pathname === '/signin' ? 'Sign up' : 'Log in'}\r\n        </Link>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute({ component: Component, ...props }) {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.isUserLoggedIn ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"./signin\" />\r\n        )\r\n      }\r\n    </Route>\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Login({ onLogin }) {\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [isEmailValid, setIsEmailValid] = useState(true);\r\n  const [isPasswordValid, setIsPasswordValid] = useState(true);\r\n  const [emailValidationMessage, setEmailValidationMessage] = useState('');\r\n  const [passwordValidationMessage, setPasswordValidationMessage] = useState(\r\n    '',\r\n  );\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  function handleEmailInputChange(e) {\r\n    const input = e.target;\r\n    const isValid = input.validity.valid;\r\n    setEmail(input.value);\r\n    setIsEmailValid(input.validity.valid);\r\n    setEmailValidationMessage(input.validationMessage);\r\n    setIsFormValid(isValid && isPasswordValid && password !== '');\r\n  }\r\n\r\n  function handlePasswordInputChange(e) {\r\n    const input = e.target;\r\n    const isValid = input.validity.valid;\r\n    setPassword(input.value);\r\n    setIsPasswordValid(input.validity.valid);\r\n    setPasswordValidationMessage(input.validationMessage);\r\n    setIsFormValid(isEmailValid && isValid && email !== '');\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    onLogin({ email, password }).catch(() => {\r\n      setIsLoading(false);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <form onSubmit={handleSubmit} className=\"form form_dark form_type_login\">\r\n        <h1 className=\"form__heading\">Log in</h1>\r\n        <label className=\"form__label\" htmlFor=\"email-field\">\r\n          <input\r\n            onChange={handleEmailInputChange}\r\n            placeholder=\"Email\"\r\n            type=\"email\"\r\n            value={email}\r\n            className={`form__field form__field_dark form__field_type_email ${\r\n              !isEmailValid && 'form__field_invalid'\r\n            }`}\r\n            id=\"email-field\"\r\n            required\r\n          />\r\n          <span\r\n            className={`form__field-error ${\r\n              !isEmailValid && 'form__field-error_active'\r\n            }`}\r\n            id=\"email-field-error\"\r\n          >\r\n            {emailValidationMessage}\r\n          </span>\r\n        </label>\r\n        <label className=\"form__label\" htmlFor=\"password-field\">\r\n          <input\r\n            onChange={handlePasswordInputChange}\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            className={`form__field form__field_dark form__field_type_password ${\r\n              !isPasswordValid && 'form__field_invalid'\r\n            }`}\r\n            id=\"password-field\"\r\n            required\r\n          />\r\n          <span\r\n            className={`form__field-error ${\r\n              !isPasswordValid && 'form__field-error_active'\r\n            }`}\r\n            id=\"password-field-error\"\r\n          >\r\n            {passwordValidationMessage}\r\n          </span>\r\n        </label>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"form__submit-button form__submit-button_dark form__submit-button_type_edit-profile\"\r\n          disabled={!isFormValid}\r\n        >\r\n          {isLoading ? 'Loading...' : 'Log in'}\r\n        </button>\r\n        <Link className=\"form__link\" to=\"/signup\">\r\n          Not a member yet? Sign up here!\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register({ onRegister }) {\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [isEmailValid, setIsEmailValid] = useState(true);\r\n  const [isPasswordValid, setIsPasswordValid] = useState(true);\r\n  const [emailValidationMessage, setEmailValidationMessage] = useState('');\r\n  const [passwordValidationMessage, setPasswordValidationMessage] = useState(\r\n    '',\r\n  );\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  function handleEmailInputChange(e) {\r\n    const input = e.target;\r\n    const isValid = input.validity.valid;\r\n    setEmail(input.value);\r\n    setIsEmailValid(isValid);\r\n    setEmailValidationMessage(input.validationMessage);\r\n    setIsFormValid(isValid && isPasswordValid && password !== '');\r\n  }\r\n\r\n  function handlePasswordInputChange(e) {\r\n    const input = e.target;\r\n    const isValid = input.validity.valid;\r\n    const message =\r\n      input.validationMessage === 'Please match the requested format.'\r\n        ? 'Password must contain no spaces.'\r\n        : input.validationMessage;\r\n    setPassword(input.value);\r\n    setIsPasswordValid(isValid);\r\n    setPasswordValidationMessage(message);\r\n    setIsFormValid(isEmailValid && isValid && email !== '');\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    onRegister({ email, password }).catch(() => {\r\n      setIsLoading(false);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        className=\"form form_dark form_type_register\"\r\n      >\r\n        <h1 className=\"form__heading\">Sign up</h1>\r\n        <label className=\"form__label\" htmlFor=\"email-field\">\r\n          <input\r\n            onChange={handleEmailInputChange}\r\n            placeholder=\"Email\"\r\n            type=\"email\"\r\n            value={email}\r\n            className={`form__field form__field_dark form__field_type_email ${\r\n              !isEmailValid && 'form__field_invalid'\r\n            }`}\r\n            id=\"email-field\"\r\n            required\r\n          />\r\n          <span\r\n            className={`form__field-error ${\r\n              !isEmailValid && 'form__field-error_active'\r\n            }`}\r\n            id=\"email-field-error\"\r\n          >\r\n            {emailValidationMessage}\r\n          </span>\r\n        </label>\r\n        <label className=\"form__label\" htmlFor=\"password-field\">\r\n          <input\r\n            onChange={handlePasswordInputChange}\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            className={`form__field form__field_dark form__field_type_password ${\r\n              !isPasswordValid && 'form__field_invalid'\r\n            }`}\r\n            id=\"password-field\"\r\n            minLength=\"6\"\r\n            maxLength=\"30\"\r\n            pattern=\"\\S+\"\r\n            required\r\n          />\r\n          <span\r\n            className={`form__field-error ${\r\n              !isPasswordValid && 'form__field-error_active'\r\n            }`}\r\n            id=\"password-field-error\"\r\n          >\r\n            {passwordValidationMessage}\r\n          </span>\r\n        </label>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"form__submit-button form__submit-button_dark form__submit-button_type_edit-profile\"\r\n          disabled={!isFormValid}\r\n        >\r\n          {isLoading ? 'Loading...' : 'Sign up'}\r\n        </button>\r\n        <Link className=\"form__link\" to=\"/signin\">\r\n          Already a member? Log in here!\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext({});\r\n\r\nexport default CurrentUserContext;\r\n","import React, { useContext } from 'react';\r\nimport escape from 'escape-html';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ onCardDelete, onCardLike, onCardClick, card }) {\r\n  const { _id: userId } = useContext(CurrentUserContext);\r\n  const {\r\n    link,\r\n    name,\r\n    likes,\r\n    owner: { _id: cardOwnerId },\r\n  } = card;\r\n  const belongsToUser = cardOwnerId === userId;\r\n  const isLiked = card.likes.some((user) => user._id === userId);\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button\r\n        className={`button element__delete-button ${\r\n          !belongsToUser && 'element__delete-button_hidden'\r\n        }`}\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <img\r\n        className=\"element__image\"\r\n        alt={escape(name)}\r\n        src={link}\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"element__info\">\r\n        <p className=\"element__title\">{escape(name)}</p>\r\n        <button\r\n          onClick={handleLikeClick}\r\n          className={`button element__like-button ${\r\n            isLiked && 'element__like-button_active'\r\n          }`}\r\n        ></button>\r\n        <p className=\"element__likes-num\">{likes.length}</p>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React, { useContext } from 'react';\r\nimport escape from 'escape-html';\r\nimport Card from './Card';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport avatarImage from '../images/avatar-image.jpg';\r\n\r\nfunction Main({\r\n  cards,\r\n  onCardLike,\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardClick,\r\n  onDeleteCard,\r\n}) {\r\n  const { avatar, about, name } = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar\">\r\n          <img\r\n            src={escape(avatar) || avatarImage}\r\n            alt=\"avatar\"\r\n            className=\"profile__avatar-img\"\r\n          />\r\n          <button\r\n            className=\"profile__change-avatar-button\"\r\n            onClick={onEditAvatar}\r\n          ></button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <p className=\"profile__name\">{escape(name)}</p>\r\n          <button\r\n            className=\"button profile__button profile__button_type_edit\"\r\n            onClick={onEditProfile}\r\n          ></button>\r\n          <p className=\"profile__job\">{escape(about)}</p>\r\n        </div>\r\n        <button\r\n          className=\"button profile__button profile__button_type_add\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {cards.map((card) => (\r\n            <Card\r\n              onCardDelete={onDeleteCard}\r\n              onCardLike={onCardLike}\r\n              onCardClick={onCardClick}\r\n              card={card}\r\n              key={card._id}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© 2020 Around The U.S.</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction Popup({ onClose, isOpen, children, content }) {\r\n  function checkIfPopupOverlayWasClicked(e) {\r\n    if (e.target.classList.contains('popup')) {\r\n      onClose();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onClick={checkIfPopupOverlayWasClicked}\r\n      className={`popup popup_content_${content} ${isOpen && 'popup_opened'}`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button\r\n          className=\"button popup__exit-button\"\r\n          onClick={onClose}\r\n        ></button>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Popup;\r\n","import React from 'react';\r\nimport Popup from './Popup';\r\n\r\nfunction ImagePopup({ onClose, isOpen, card: { link, name } }) {\r\n  return (\r\n    <Popup onClose={onClose} isOpen={isOpen} content=\"picture\">\r\n      <div className=\"picture\">\r\n        <img alt={name} src={link} className=\"picture__image\" />\r\n        <p className=\"picture__title\">{name}</p>\r\n      </div>\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from 'react';\r\nimport Popup from './Popup';\r\n\r\nfunction PopupWithForm({\r\n  title,\r\n  name,\r\n  isOpen,\r\n  children,\r\n  onClose,\r\n  onSubmit,\r\n  isFormValid,\r\n  isLoading,\r\n  submitBtnText,\r\n}) {\r\n  return (\r\n    <Popup isOpen={isOpen} onClose={onClose} content={name}>\r\n      <form onSubmit={onSubmit} className={`form form_type_${name}`}>\r\n        <h1 className=\"form__heading\">{title}</h1>\r\n        {children}\r\n        <button\r\n          type=\"submit\"\r\n          className={`form__submit-button form__submit-button_type_${name}`}\r\n          disabled={!isFormValid}\r\n        >\r\n          {isLoading ? 'Saving...' : submitBtnText}\r\n        </button>\r\n      </form>\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nconst EditProfilePopup = ({ isOpen, onClose, onUpdateUser }) => {\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [nameValidationMessage, setNameValidationMessage] = useState('');\r\n  const [\r\n    descriptionValidationMessage,\r\n    setDescriptionValidationMessage,\r\n  ] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isNameValid, setIsNameValid] = useState(true);\r\n  const [isDescriptionValid, setIsDescriptionValid] = useState(true);\r\n  const CurrentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    const { name: currentUserName, about } = CurrentUser;\r\n    setDescription(about);\r\n    setName(currentUserName);\r\n  }, [CurrentUser]);\r\n\r\n  function handleNameInputChange(e) {\r\n    const input = e.target;\r\n    setName(input.value);\r\n    setIsNameValid(input.validity.valid);\r\n    setNameValidationMessage(input.validationMessage);\r\n  }\r\n\r\n  function handleDescriptionInputChange(e) {\r\n    const input = e.target;\r\n    setDescription(input.value);\r\n    setIsDescriptionValid(input.validity.valid);\r\n    setDescriptionValidationMessage(input.validationMessage);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    setIsLoading(true);\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    }).then(() => {\r\n      setIsLoading(false);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-profile-form\"\r\n      title=\"Edit profile\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n      isFormValid={isNameValid && isDescriptionValid}\r\n      submitBtnText=\"Save\"\r\n    >\r\n      <label className=\"form__label\" htmlFor=\"name-field\">\r\n        <input\r\n          onChange={handleNameInputChange}\r\n          defaultValue={name}\r\n          type=\"text\"\r\n          className={`form__field form__field_type_name ${\r\n            !isNameValid && 'form__field_invalid'\r\n          }`}\r\n          id=\"name-field\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          pattern=\"[a-zA-Z -]{1,}\"\r\n          required\r\n        />\r\n        <span\r\n          className={`form__field-error ${\r\n            !isNameValid && 'form__field-error_active'\r\n          }`}\r\n          id=\"name-field-error\"\r\n        >\r\n          {nameValidationMessage}\r\n        </span>\r\n      </label>\r\n      <label className=\"form__label\" htmlFor=\"job-field\">\r\n        <input\r\n          onChange={handleDescriptionInputChange}\r\n          defaultValue={description}\r\n          type=\"text\"\r\n          className={`form__field form__field_type_job ${\r\n            !isDescriptionValid && 'form__field_invalid'\r\n          }`}\r\n          id=\"job-field\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          required\r\n        />\r\n        <span\r\n          className={`form__field-error ${\r\n            !isDescriptionValid && 'form__field-error_active'\r\n          }`}\r\n          id=\"job-field-error\"\r\n        >\r\n          {descriptionValidationMessage}\r\n        </span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useRef, useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarProfilePopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarInput = useRef(null);\r\n  const [isAvatarValid, setIsAvatarValid] = useState(true);\r\n  const [avatarValidationMessage, setAvatarValidationMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n\r\n  function handleAvatarInputChange(e) {\r\n    const input = e.target;\r\n    setIsAvatarValid(input.validity.valid);\r\n    setAvatarValidationMessage(input.validationMessage);\r\n    setIsFormValid(input.validity.valid);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    setIsLoading(true);\r\n    onUpdateAvatar({\r\n      avatar: avatarInput.current.value,\r\n    }).then(() => {\r\n      setIsLoading(false);\r\n      avatarInput.current.value = '';\r\n      setIsFormValid(false);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"change-avatar-form\"\r\n      title=\"Change profile picture\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n      isFormValid={isFormValid}\r\n      submitBtnText=\"Save\"\r\n    >\r\n      <label htmlFor=\"avatar-img-field\" className=\"form__label\">\r\n        <input\r\n          ref={avatarInput}\r\n          placeholder=\"Image-link\"\r\n          type=\"url\"\r\n          className={`form__field form__field_type_avatar-img ${\r\n            !isAvatarValid && 'form__field_invalid'\r\n          }`}\r\n          id=\"avatar-img-field\"\r\n          onChange={handleAvatarInputChange}\r\n          required\r\n        />\r\n        <span\r\n          className={`form__field-error ${\r\n            !isAvatarValid && 'form__field-error_active'\r\n          }`}\r\n          id=\"avatar-img-field-error\"\r\n        >\r\n          {avatarValidationMessage}\r\n        </span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarProfilePopup;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onCreatePlace }) {\r\n  const [name, setName] = useState('');\r\n  const [isNameValid, setIsNameValid] = useState(true);\r\n  const [nameValidationMessage, setNameValidationMessage] = useState('');\r\n\r\n  const [link, setLink] = useState('');\r\n  const [isLinkValid, setIsLinkValid] = useState(true);\r\n  const [linkValidationMessage, setLinkValidationMessage] = useState('');\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  function handleTitleInputChange(e) {\r\n    const input = e.target;\r\n    setName(input.value);\r\n    setIsNameValid(input.validity.valid);\r\n    setNameValidationMessage(input.validationMessage);\r\n  }\r\n\r\n  function handleImgInputChange(e) {\r\n    const input = e.target;\r\n    setLink(input.value);\r\n    setIsLinkValid(input.validity.valid);\r\n    setLinkValidationMessage(input.validationMessage);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    setIsLoading(true);\r\n    onCreatePlace({ name, link })\r\n      .then(() => {\r\n        setName('');\r\n        setLink('');\r\n      })\r\n      .then(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-card-form\"\r\n      title=\"New place\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n      isFormValid={\r\n        isNameValid && isLinkValid && name.length > 0 && link.length > 0\r\n      }\r\n      submitBtnText=\"Create\"\r\n    >\r\n      <label htmlFor=\"title-field\" className=\"form__label\">\r\n        <input\r\n          onChange={handleTitleInputChange}\r\n          value={name}\r\n          placeholder=\"Title\"\r\n          type=\"text\"\r\n          className={`form__field form__field_type_title ${\r\n            !isNameValid && 'form__field_invalid'\r\n          }`}\r\n          id=\"title-field\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          required\r\n        />\r\n        <span\r\n          className={`form__field-error ${\r\n            !isNameValid && 'form__field-error_active'\r\n          }`}\r\n          id=\"title-field-error\"\r\n        >\r\n          {nameValidationMessage}\r\n        </span>\r\n      </label>\r\n      <label htmlFor=\"img-link-field\" className=\"form__label\">\r\n        <input\r\n          onChange={handleImgInputChange}\r\n          placeholder=\"Image-link\"\r\n          type=\"url\"\r\n          value={link}\r\n          className={`form__field form__field_type_img-link ${\r\n            !isLinkValid && 'form__field_invalid'\r\n          }`}\r\n          id=\"img-link-field\"\r\n          required\r\n        />\r\n        <span\r\n          className={`form__field-error ${\r\n            !isLinkValid && 'form__field-error_active'\r\n          }`}\r\n          id=\"img-link-field-error\"\r\n        >\r\n          {linkValidationMessage}\r\n        </span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeleteCardPopup({ isOpen, onClose, onDeleteCard }) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    onDeleteCard().then(() => {\r\n      setIsLoading(false);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"delete-cart-form\"\r\n      title=\"Are you sure?\"\r\n      onClose={onClose}\r\n      isOpen={isOpen}\r\n      onSubmit={handleSubmit}\r\n      isLoading={isLoading}\r\n      isFormValid={true}\r\n      submitBtnText=\"Yes\"\r\n    />\r\n  );\r\n}\r\n\r\nexport default DeleteCardPopup;\r\n","import React from 'react';\r\nimport Popup from './Popup';\r\nimport successImage from '../images/check-symbol.svg';\r\nimport errorImage from '../images/x-symbol.svg';\r\n\r\nfunction InfoTooltip({ onClose, isOpen, type }) {\r\n  let imgSrc;\r\n  let imgAlt = '';\r\n  let message = '';\r\n  switch (type) {\r\n    case 'success':\r\n      imgSrc = successImage;\r\n      imgAlt = 'a black checkmark';\r\n      message = 'Success! You have now been registered.';\r\n      break;\r\n    default:\r\n      imgSrc = errorImage;\r\n      imgAlt = 'a red x';\r\n      message = 'Oops, something went wrong! Please try again.';\r\n  }\r\n  return (\r\n    <Popup onClose={onClose} isOpen={isOpen} content=\"info-tooltip\">\r\n      <div className=\"info-tooltip\">\r\n        <img src={imgSrc} alt={imgAlt} className=\"info-tooltip__img\" />\r\n        <p className=\"info-tooltip__message\">{message}</p>\r\n      </div>\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _checkServerResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(`Err: ${res.status}`);\r\n  }\r\n\r\n  getUser() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    }).then(this._checkServerResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    }).then(this._checkServerResponse);\r\n  }\r\n\r\n  editUserInfo(newUserInfo) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(newUserInfo),\r\n    }).then(this._checkServerResponse);\r\n  }\r\n\r\n  editUserAvatar(avatar) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(avatar),\r\n    }).then(this._checkServerResponse);\r\n  }\r\n\r\n  addCard(newCardInfo) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify(newCardInfo),\r\n    }).then(this._checkServerResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then(this._checkServerResponse);\r\n  }\r\n\r\n  editCardLikes({ cardWasLiked, cardId }) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: cardWasLiked ? 'PUT' : 'DELETE',\r\n      headers: this._headers,\r\n    }).then(this._checkServerResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://around.nomoreparties.co/v1/group-1',\r\n  headers: {\r\n    authorization: 'b5addf89-e4e2-4334-ba86-da0986124fda',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default api;\r\n","class Auth {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _checkServerResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(`Err: ${res.status}`);\r\n  }\r\n\r\n  registerUser(userInfo) {\r\n    return fetch(`${this._baseUrl}/signup`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify(userInfo),\r\n    }).then(this._checkServerResponse);\r\n  }\r\n\r\n  loginUser(userInfo) {\r\n    return fetch(`${this._baseUrl}/signin`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify(userInfo),\r\n    }).then(this._checkServerResponse);\r\n  }\r\n\r\n  checkUserValidity() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: {\r\n        ...this._headers,\r\n        Authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n      },\r\n    }).then(this._checkServerResponse);\r\n  }\r\n}\r\n\r\nconst auth = new Auth({\r\n  baseUrl: 'https://register.nomoreparties.co',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default auth;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarProfilePopup from './EditAvatarProfilePopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeleteCardPopup from './DeleteCardPopup';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport api from '../utils/api';\r\nimport auth from '../utils/auth';\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n  const [isUserLoggedIn, setIsUserLoggedIn] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\r\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\r\n  const [isSuccessTooltipOpen, setIsSuccessTooltipOpen] = useState(false);\r\n  const [isErrorTooltipOpen, setIsErrorTooltipOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [email, setEmail] = useState('');\r\n  const [cards, setCards] = useState([]);\r\n\r\n  const useMountEffect = (func) => useEffect(func, []);\r\n\r\n  useMountEffect(() => {\r\n    api\r\n      .getUser()\r\n      .then((user) => {\r\n        setCurrentUser(user);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    api\r\n      .getInitialCards()\r\n      .then((initialCards) => {\r\n        setCards(initialCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    if (localStorage.getItem('jwt')) {\r\n      checkUserValidity();\r\n    }\r\n  });\r\n\r\n  function checkUserValidity() {\r\n    return auth\r\n      .checkUserValidity()\r\n      .then(({ data: { email } }) => {\r\n        setEmail(email);\r\n        setIsUserLoggedIn(true);\r\n        history.push('/');\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleEscPopupClose(e) {\r\n    if (e.key === 'Escape') {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function setEscPopupCloseEventListener() {\r\n    window.addEventListener('keyup', handleEscPopupClose);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setEscPopupCloseEventListener();\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEscPopupCloseEventListener();\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setEscPopupCloseEventListener();\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setEscPopupCloseEventListener();\r\n    setIsImagePopupOpen(true);\r\n  }\r\n\r\n  function handleDeleteCardClick(card) {\r\n    setSelectedCard(card);\r\n    setEscPopupCloseEventListener();\r\n    setIsDeleteCardPopupOpen(true);\r\n  }\r\n\r\n  function openErrorTooltip() {\r\n    setEscPopupCloseEventListener();\r\n    setIsErrorTooltipOpen(true);\r\n  }\r\n\r\n  function openSuccessTooltip() {\r\n    setEscPopupCloseEventListener();\r\n    setIsSuccessTooltipOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    window.removeEventListener('keyup', handleEscPopupClose);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setIsDeleteCardPopupOpen(false);\r\n    setIsErrorTooltipOpen(false);\r\n    setIsSuccessTooltipOpen(false);\r\n  }\r\n\r\n  function handleUserLogin(userInfo) {\r\n    return auth\r\n      .loginUser(userInfo)\r\n      .then(({ token }) => {\r\n        localStorage.setItem('jwt', token);\r\n        return checkUserValidity();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        openErrorTooltip();\r\n        return Promise.reject();\r\n      });\r\n  }\r\n\r\n  function handleUserRegister(userInfo) {\r\n    return auth\r\n      .registerUser(userInfo)\r\n      .then((data) => {\r\n        if (data) {\r\n          history.push('/signin');\r\n          return Promise.resolve();\r\n        }\r\n        return Promise.reject();\r\n      })\r\n      .then(() => {\r\n        openSuccessTooltip();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        openErrorTooltip();\r\n        return Promise.reject();\r\n      });\r\n  }\r\n\r\n  function handleUserSignout() {\r\n    localStorage.removeItem('jwt');\r\n    setIsUserLoggedIn(false);\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const cardWasLiked = !card.likes.some((c) => c._id === currentUser._id);\r\n\r\n    api\r\n      .editCardLikes({ cardWasLiked, cardId: card._id })\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    return api\r\n      .deleteCard(selectedCard._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== selectedCard._id);\r\n        setCards(newCards);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateUser(newUserInfo) {\r\n    return api\r\n      .editUserInfo(newUserInfo)\r\n      .then((newUserInfo) => {\r\n        setCurrentUser(newUserInfo);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    return api\r\n      .editUserAvatar(avatar)\r\n      .then((newUserInfo) => {\r\n        setCurrentUser(newUserInfo);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCreatePlace(place) {\r\n    return api\r\n      .addCard(place)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header\r\n        onSignOut={handleUserSignout}\r\n        isUserLoggedIn={isUserLoggedIn}\r\n        email={email}\r\n      />\r\n      <Switch>\r\n        <ProtectedRoute\r\n          path=\"/\"\r\n          exact\r\n          component={Main}\r\n          isUserLoggedIn={isUserLoggedIn}\r\n          cards={cards}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onDeleteCard={handleDeleteCardClick}\r\n          onCardClick={handleCardClick}\r\n          onCardLike={handleCardLike}\r\n        />\r\n        <Route path=\"/signup\">\r\n          <Register onRegister={handleUserRegister} />\r\n        </Route>\r\n        <Route path=\"/signin\">\r\n          <Login onLogin={handleUserLogin} />\r\n        </Route>\r\n        <Route>\r\n          <Redirect to={isUserLoggedIn ? '/' : '/signin'} />\r\n        </Route>\r\n      </Switch>\r\n      {isUserLoggedIn && <Footer />}\r\n\r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n      />\r\n\r\n      <EditAvatarProfilePopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n      />\r\n\r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onCreatePlace={handleCreatePlace}\r\n      />\r\n\r\n      <ImagePopup\r\n        isOpen={isImagePopupOpen}\r\n        card={selectedCard}\r\n        onClose={closeAllPopups}\r\n      />\r\n\r\n      <DeleteCardPopup\r\n        isOpen={isDeleteCardPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onDeleteCard={handleCardDelete}\r\n      />\r\n\r\n      <InfoTooltip\r\n        onClose={closeAllPopups}\r\n        type=\"success\"\r\n        isOpen={isSuccessTooltipOpen}\r\n      />\r\n\r\n      <InfoTooltip\r\n        onClose={closeAllPopups}\r\n        type=\"error\"\r\n        isOpen={isErrorTooltipOpen}\r\n      />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </HashRouter>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}